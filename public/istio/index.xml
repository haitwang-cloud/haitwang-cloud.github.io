<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Istio on Tim Wangçš„æŠ€æœ¯åšå®¢</title>
    <link>http://localhost:1313/istio/</link>
    <description>Recent content in Istio on Tim Wangçš„æŠ€æœ¯åšå®¢</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <lastBuildDate>Fri, 14 Jun 2024 17:47:42 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/istio/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ã€è¯‘ã€‘Istioä¸Šæ¸¸è¿æ¥é‡ç½®502é”™è¯¯åˆ†æä¸æ’æŸ¥æŒ‡å—</title>
      <link>http://localhost:1313/istio/istio-upstream-error/</link>
      <pubDate>Fri, 14 Jun 2024 17:47:42 +0800</pubDate>
      <guid>http://localhost:1313/istio/istio-upstream-error/</guid>
      <description>æœ¬æ–‡æ˜¯How to debug Istio Upstream Reset 502 UPE (old 503 UC)çš„ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ï¼Œå†…å®¹æœ‰åˆ å‡&#xA;Istio æ˜¯ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿã€‚å¯¹äºåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå®ƒçš„ä¸»è¦ç»„ä»¶æ˜¯ sidecar å®¹å™¨ Istio-Proxyï¼Œå®ƒä»£ç† Pod ä¸­æ‰€æœ‰å®¹å™¨çš„æµé‡ã€‚è€Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚&#xA;é—®é¢˜é‡ç°ğŸ› åœ¨ä¸€ä¸ªæ‹¥æœ‰è¶…è¿‡ 40 ä¸ªä¸åŒå¾®æœåŠ¡çš„å¤§å‹ç³»ç»Ÿä¸­ï¼ŒQAå·¥ç¨‹å¸ˆåœ¨å•ä¸ªç«¯ç‚¹ä¸Šå‘ç°äº†ä¸€ä¸ªbugã€‚è¿™è¯¥ç«¯ç‚¹æ˜¯ POST ç«¯ç‚¹ï¼Œå®ƒè¿”å›åˆ†å—ï¼ˆchunkedï¼‰æ•°æ®ã€‚&#xA;ç„¶åæˆ‘ä»¬å‘ç° Istio è¿”å›äº† 502 é”™è¯¯ï¼ŒIstioæ—¥å¿—ä¸­è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„æ ‡å¿—ï¼šupstream_reset_before_response_startedã€‚ç„¶è€Œåº”ç”¨ç¨‹åºæ—¥å¿—è¯å®äº†ç»“æœæ˜¯æ­£ç¡®çš„ã€‚&#xA;åœ¨æ—§ç‰ˆæœ¬çš„ Istio ä¸­ï¼Œå®ƒä¼šè¿”å› 503 é”™è¯¯ï¼Œå¸¦æœ‰ UC æ ‡å¿—ã€‚&#xA;é—®é¢˜åˆ†æâ›ï¸ è®©æˆ‘ä»¬çœ‹çœ‹ curl çš„å“åº”ï¼Œä»¥åŠ Istio-proxy çš„æ—¥å¿—ï¼š&#xA;kubectl exec -it curl-0 -- curl http://http-chunked:8080/wrong -v &amp;lt; HTTP/1.1 502 Bad Gateway &amp;lt; content-length: 87 &amp;lt; content-type: text/plain &amp;lt; date: Sun, 24 Apr 2022 12:28:28 GMT &amp;lt; server: istio-envoy &amp;lt; x-envoy-decorator-operation: http-chunked.</description>
    </item>
  </channel>
</rss>
